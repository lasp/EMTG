<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>StateConverter &#8212; EMTG python  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=61cd365c" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=12dfc556" />
    <script src="../_static/documentation_options.js?v=7f41d439"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for StateConverter</h1><div class="highlight"><pre>
<span></span><span class="c1"># Copyright (c) 2024 The Regents of the University of Colorado.</span>
<span class="c1"># All Other Rights Reserved.</span>

<span class="c1">#functions to convert between state representations</span>
<span class="c1">#takes a vector, writes a vector</span>
<span class="c1">#Jacob Englander, borrowing lots of things from Noble Hatten and Ryne Beeson</span>
<span class="c1">#6-11-2020</span>

<span class="c1">#All state representations convert to and from Cartesian. Cross-conversions go through conversion</span>
<span class="c1">#at the bottom we have a utility to convert a decision vector</span>
<span class="c1">#</span>
<span class="c1">#need the following:</span>
<span class="c1">#</span>
<span class="c1">#CartesiantoCOE                             XXXXXXXXXX</span>
<span class="c1">#CartesiantoSphericalAZFPA                  XXXXXXXXXX</span>
<span class="c1">#CartesiantoSphericalRADEC                  XXXXXXXXXX</span>
<span class="c1">#CartesiantoIncomingBplane                  XXXXXXXXXX</span>
<span class="c1">#CartesiantoOutgoingBplane                  XXXXXXXXXX</span>
<span class="c1">#CartesiantoMEE                             XXXXXXXXXX</span>
<span class="c1">#COEtoCartesian                             XXXXXXXXXX</span>
<span class="c1">#COEtoSphericalAZFPA                        XXXXXXXXXX</span>
<span class="c1">#COEtoSphericalRADEC                        XXXXXXXXXX</span>
<span class="c1">#COEtoIncomingBplane                        XXXXXXXXXX</span>
<span class="c1">#COEtoOutgoingBplane                        XXXXXXXXXX</span>
<span class="c1">#COEtoMEE                                   XXXXXXXXXX</span>
<span class="c1">#SphericalAZFPAtoCOE                        XXXXXXXXXX</span>
<span class="c1">#SphericalAZFPAtoCartesian                  XXXXXXXXXX</span>
<span class="c1">#SphericalAZFPAtoSphericalRADEC             XXXXXXXXXX</span>
<span class="c1">#SphericalAZFPAtoIncomingBplane             XXXXXXXXXX</span>
<span class="c1">#SphericalAZFPAtoOutgoingBplane             XXXXXXXXXX</span>
<span class="c1">#SphericalAZFPAtoMEE                        XXXXXXXXXX</span>
<span class="c1">#SphericalRADECtoCOE                        XXXXXXXXXX</span>
<span class="c1">#SphericalRADECtoSphericalAZFPA             XXXXXXXXXX</span>
<span class="c1">#SphericalRADECtoCartesian                  XXXXXXXXXX</span>
<span class="c1">#SphericalRADECtoIncomingBplane             XXXXXXXXXX</span>
<span class="c1">#SphericalRADECtoOutgoingBplane             XXXXXXXXXX</span>
<span class="c1">#SphericalRADECtoMEE                        XXXXXXXXXX</span>
<span class="c1">#IncomingBplanetoCOE                        XXXXXXXXXX</span>
<span class="c1">#IncomingBplanetoSphericalAZFPA             XXXXXXXXXX</span>
<span class="c1">#IncomingBplanetoSphericalRADEC             XXXXXXXXXX</span>
<span class="c1">#IncomingBplanetoCartesian                  XXXXXXXXXX</span>
<span class="c1">#IncomingBplanetoOutgoingBplane             XXXXXXXXXX</span>
<span class="c1">#IncomingBplanetoMEE                        XXXXXXXXXX</span>
<span class="c1">#OutgoingBplanetoCOE                        XXXXXXXXXX</span>
<span class="c1">#OutgoingBplanetoSphericalAZFPA             XXXXXXXXXX</span>
<span class="c1">#OutgoingBplanetoSphericalRADEC             XXXXXXXXXX</span>
<span class="c1">#OutgoingBplanetoIncomingBplane             XXXXXXXXXX</span>
<span class="c1">#OutgoingBplanetoCartesian                  XXXXXXXXXX</span>
<span class="c1">#OutgoingBplanetoMEE                        XXXXXXXXXX</span>
<span class="c1">#MEEtoCOE                                   XXXXXXXXXX</span>
<span class="c1">#MEEtoSphericalAZFPA                        XXXXXXXXXX</span>
<span class="c1">#MEEtoSphericalRADEC                        XXXXXXXXXX</span>
<span class="c1">#MEEtoIncomingBplane                        XXXXXXXXXX</span>
<span class="c1">#MEEtoOutgoingBplane                        XXXXXXXXXX</span>
<span class="c1">#MEEtoCartesian                             XXXXXXXXXX</span>

<div class="viewcode-block" id="StateConverter">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter">[docs]</a>
<span class="k">class</span> <span class="nc">StateConverter</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<div class="viewcode-block" id="StateConverter.COEtoCartesian">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.COEtoCartesian">[docs]</a>
    <span class="k">def</span> <span class="nf">COEtoCartesian</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Convert from classical orbital elements to Cartesian state representation.</span>
<span class="sd">        Any units can be used, but must be consistent.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        stateCOE : 6-element list of floats</span>
<span class="sd">            State in classical orbital elements: [SMA, ECC, INC, RAAN, AOP, TA]</span>
<span class="sd">        mu : float</span>
<span class="sd">            Gravitational parameter of central body</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        6-element list of floats</span>
<span class="sd">            State in Cartesian: [x, y, z, vx, vy, vz]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1">#  import statements</span>
        <span class="kn">from</span> <span class="nn">math</span>  <span class="kn">import</span> <span class="n">cos</span><span class="p">,</span> <span class="n">sin</span><span class="p">,</span> <span class="n">sqrt</span>
        <span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">matrix</span><span class="p">,</span> <span class="n">array</span><span class="p">,</span> <span class="n">zeros</span>
    
        <span class="c1">#  if &#39;a&#39; is set to zero, then body is at rest in the</span>
        <span class="c1">#+ current frame of reference.</span>
        <span class="c1">#+ return a zero vector for r and v</span>
        <span class="k">if</span> <span class="n">stateCOE</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mf">0.0</span><span class="p">:</span> <span class="k">return</span> <span class="n">zeros</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    
        <span class="n">a</span>  <span class="o">=</span> <span class="n">stateCOE</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">e</span>  <span class="o">=</span> <span class="n">stateCOE</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">i</span>  <span class="o">=</span> <span class="n">stateCOE</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">Om</span> <span class="o">=</span> <span class="n">stateCOE</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="n">om</span> <span class="o">=</span> <span class="n">stateCOE</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
        <span class="n">f</span>  <span class="o">=</span> <span class="n">stateCOE</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
    
        <span class="n">p</span>  <span class="o">=</span> <span class="n">a</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">e</span><span class="o">*</span><span class="n">e</span><span class="p">)</span>
        <span class="n">r</span>  <span class="o">=</span> <span class="n">p</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">e</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([</span><span class="n">r</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">f</span><span class="p">),</span> <span class="n">r</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">f</span><span class="p">),</span>   <span class="mi">0</span><span class="p">])</span>
        <span class="n">vv</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([</span><span class="o">-</span><span class="n">sin</span><span class="p">(</span><span class="n">f</span><span class="p">),</span>  <span class="n">e</span> <span class="o">+</span> <span class="n">cos</span><span class="p">(</span><span class="n">f</span><span class="p">),</span> <span class="mi">0</span><span class="p">])</span>
        <span class="n">vv</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">mu</span><span class="o">/</span><span class="n">p</span><span class="p">)</span><span class="o">*</span><span class="n">vv</span>
    
        <span class="n">c0</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span><span class="n">Om</span><span class="p">);</span> <span class="n">s0</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">Om</span><span class="p">)</span>
        <span class="n">co</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span><span class="n">om</span><span class="p">);</span> <span class="n">so</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">om</span><span class="p">)</span>
        <span class="n">ci</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>  <span class="n">si</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    
        <span class="n">R</span>  <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="n">c0</span><span class="o">*</span><span class="n">co</span> <span class="o">-</span> <span class="n">s0</span><span class="o">*</span><span class="n">so</span><span class="o">*</span><span class="n">ci</span><span class="p">,</span> <span class="o">-</span><span class="n">c0</span><span class="o">*</span><span class="n">so</span> <span class="o">-</span> <span class="n">s0</span><span class="o">*</span><span class="n">co</span><span class="o">*</span><span class="n">ci</span><span class="p">,</span>  <span class="n">s0</span><span class="o">*</span><span class="n">si</span><span class="p">],</span>
                     <span class="p">[</span><span class="n">s0</span><span class="o">*</span><span class="n">co</span> <span class="o">+</span> <span class="n">c0</span><span class="o">*</span><span class="n">so</span><span class="o">*</span><span class="n">ci</span><span class="p">,</span> <span class="o">-</span><span class="n">s0</span><span class="o">*</span><span class="n">so</span> <span class="o">+</span> <span class="n">c0</span><span class="o">*</span><span class="n">co</span><span class="o">*</span><span class="n">ci</span><span class="p">,</span> <span class="o">-</span><span class="n">c0</span><span class="o">*</span><span class="n">si</span><span class="p">],</span>
                     <span class="p">[</span><span class="n">so</span><span class="o">*</span><span class="n">si</span><span class="p">,</span>             <span class="n">co</span><span class="o">*</span><span class="n">si</span><span class="p">,</span>             <span class="n">ci</span><span class="p">]])</span>
                 
        <span class="n">ri</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="n">R</span><span class="o">*</span><span class="n">rv</span><span class="o">.</span><span class="n">T</span><span class="p">);</span> <span class="n">ri</span> <span class="o">=</span> <span class="n">ri</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">vi</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="n">R</span><span class="o">*</span><span class="n">vv</span><span class="o">.</span><span class="n">T</span><span class="p">);</span> <span class="n">vi</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="p">[</span><span class="n">ri</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ri</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">ri</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">vi</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">vi</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">vi</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span>
    
        <span class="k">return</span> <span class="n">stateCartesian</span></div>


<div class="viewcode-block" id="StateConverter.CartesiantoCOE">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.CartesiantoCOE">[docs]</a>
    <span class="k">def</span> <span class="nf">CartesiantoCOE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateCartesian</span><span class="p">,</span><span class="n">mu</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">kepler</span> <span class="kn">import</span> <span class="n">safe_acos</span>
        <span class="kn">from</span> <span class="nn">math</span>  <span class="kn">import</span> <span class="n">pi</span><span class="p">,</span> <span class="n">acos</span>
        <span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">linalg</span><span class="p">,</span> <span class="n">cross</span><span class="p">,</span> <span class="n">dot</span><span class="p">,</span> <span class="n">array</span>

        <span class="n">r</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="n">stateCartesian</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="n">stateCartesian</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="mi">5</span><span class="p">]])</span>
    
        <span class="n">r_mag</span> <span class="o">=</span> <span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
        <span class="n">v_mag</span> <span class="o">=</span> <span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
        <span class="n">h</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">v</span><span class="p">)</span>    
        <span class="n">h_mag</span> <span class="o">=</span> <span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>    
        <span class="n">h_hat</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">/</span><span class="n">h_mag</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">h</span><span class="p">]</span>
        <span class="n">n</span> <span class="o">=</span> <span class="n">cross</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">h_hat</span><span class="p">)</span>    
        <span class="n">n_mag</span> <span class="o">=</span> <span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="n">crossVH</span> <span class="o">=</span> <span class="n">cross</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="n">h</span><span class="p">)</span>
        <span class="n">e_vec</span> <span class="o">=</span> <span class="p">[</span><span class="n">crossVH</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">mu</span><span class="o">-</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">r_mag</span><span class="p">,</span><span class="n">crossVH</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="n">mu</span><span class="o">-</span><span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="n">r_mag</span><span class="p">,</span><span class="n">crossVH</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="n">mu</span><span class="o">-</span><span class="n">r</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="n">r_mag</span><span class="p">]</span>    
        <span class="n">E</span> <span class="o">=</span> <span class="n">v_mag</span><span class="o">*</span><span class="n">v_mag</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="n">mu</span><span class="o">/</span><span class="n">r_mag</span>
    
        <span class="n">a</span> <span class="o">=</span> <span class="o">-</span><span class="n">mu</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">E</span><span class="p">)</span>  
        <span class="n">e</span> <span class="o">=</span> <span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">e_vec</span><span class="p">)</span> 
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">OM</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">omega</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">nu</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

        <span class="n">delta</span> <span class="o">=</span> <span class="mf">1e-7</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">e</span> <span class="o">&gt;</span> <span class="n">delta</span> <span class="ow">and</span> <span class="n">n_mag</span><span class="o">&gt;</span><span class="n">delta</span><span class="p">):</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">safe_acos</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="n">h_mag</span><span class="p">)</span>
            <span class="n">OM</span> <span class="o">=</span> <span class="n">safe_acos</span><span class="p">(</span><span class="n">n</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">n_mag</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">n</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span>
                <span class="n">OM</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span> <span class="o">-</span> <span class="n">OM</span>
            
            <span class="n">omega</span> <span class="o">=</span> <span class="n">safe_acos</span><span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">e_vec</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">n_mag</span><span class="o">*</span><span class="n">e</span><span class="p">))</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">e_vec</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span>
                <span class="n">omega</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span> <span class="o">-</span> <span class="n">omega</span>
            
            <span class="n">nu</span> <span class="o">=</span> <span class="n">safe_acos</span><span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">e_vec</span><span class="p">,</span><span class="n">r</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">e</span><span class="o">*</span><span class="n">r_mag</span><span class="p">))</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span>
                <span class="n">nu</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span> <span class="o">-</span> <span class="n">nu</span>
            
        <span class="k">elif</span> <span class="p">(</span><span class="n">e</span> <span class="o">&lt;</span> <span class="n">delta</span> <span class="ow">and</span> <span class="n">n_mag</span> <span class="o">&gt;</span> <span class="n">delta</span><span class="p">):</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">safe_acos</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="n">h_mag</span><span class="p">)</span>
            <span class="n">omega</span> <span class="o">=</span> <span class="mi">0</span>
    
            <span class="n">OM</span> <span class="o">=</span> <span class="n">safe_acos</span><span class="p">(</span><span class="n">n</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">n_mag</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">n</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span>
                <span class="n">OM</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span> <span class="o">-</span> <span class="n">OM</span>   
    
            <span class="n">nu</span> <span class="o">=</span> <span class="n">safe_acos</span><span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">r</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">n_mag</span><span class="o">*</span><span class="n">r_mag</span><span class="p">))</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span>
                <span class="n">nu</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span> <span class="o">-</span> <span class="n">nu</span>

        <span class="k">elif</span> <span class="p">(</span><span class="n">e</span> <span class="o">&lt;</span> <span class="n">delta</span> <span class="ow">and</span> <span class="n">n_mag</span> <span class="o">&lt;</span> <span class="n">delta</span><span class="p">):</span>
            <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">omega</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">OM</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">nu</span> <span class="o">=</span> <span class="n">safe_acos</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="n">r_mag</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span>
                <span class="n">nu</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span> <span class="o">-</span> <span class="n">nu</span>
            
        <span class="k">elif</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&gt;</span> <span class="n">e</span> <span class="ow">and</span> <span class="n">e</span> <span class="o">&gt;</span> <span class="n">delta</span> <span class="ow">and</span> <span class="n">n_mag</span> <span class="o">&lt;</span> <span class="n">delta</span><span class="p">):</span>
            <span class="n">omega</span> <span class="o">=</span> <span class="n">safe_acos</span><span class="p">(</span><span class="n">e_vec</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">e</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">e_vec</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span>
                <span class="n">omega</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span> <span class="o">-</span> <span class="n">omega</span>
            
            <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">OM</span> <span class="o">=</span> <span class="mi">0</span>
    
            <span class="n">nu</span> <span class="o">=</span> <span class="n">safe_acos</span><span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">e_vec</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">e</span><span class="o">*</span><span class="n">r_mag</span><span class="p">))</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span>
                <span class="n">nu</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span> <span class="o">-</span> <span class="n">nu</span>

        <span class="k">elif</span> <span class="p">(</span><span class="n">e</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">n_mag</span> <span class="o">&lt;</span> <span class="n">delta</span><span class="p">):</span>
            <span class="n">omega</span> <span class="o">=</span> <span class="n">safe_acos</span><span class="p">(</span><span class="n">e_vec</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">e</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">e_vec</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span>    
                <span class="n">omega</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span> <span class="o">-</span> <span class="n">omega</span>
        
            <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">OM</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">nu</span> <span class="o">=</span> <span class="n">safe_acos</span><span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">e_vec</span><span class="p">,</span><span class="n">r</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">e</span><span class="o">*</span><span class="n">r_mag</span><span class="p">))</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span>
                <span class="n">nu</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span> <span class="o">-</span> <span class="n">nu</span>

        <span class="c1">#deal with the &quot;true anomaly is zero but truncation error says not&quot; case</span>
        <span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">fabs</span>
        <span class="k">if</span> <span class="n">fabs</span><span class="p">(</span><span class="n">nu</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1.0e-9</span><span class="p">:</span>
            <span class="n">nu</span> <span class="o">=</span> <span class="mf">0.0</span>
    
        <span class="n">stateCOE</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="n">e</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">OM</span><span class="p">,</span><span class="n">omega</span><span class="p">,</span><span class="n">nu</span><span class="p">]</span>
    
        <span class="k">return</span> <span class="n">stateCOE</span></div>


<div class="viewcode-block" id="StateConverter.SphericalRADECtoCartesian">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.SphericalRADECtoCartesian">[docs]</a>
    <span class="k">def</span> <span class="nf">SphericalRADECtoCartesian</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateSphericalRADEC</span><span class="p">):</span> <span class="c1">#doesn&#39;t need mu</span>
        <span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sin</span><span class="p">,</span> <span class="n">cos</span>
        <span class="n">r</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">stateSphericalRADEC</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>                                                                               
        <span class="n">RA</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">stateSphericalRADEC</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>                                                                              
        <span class="n">DEC</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">stateSphericalRADEC</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>                                                                             
        <span class="n">v</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">stateSphericalRADEC</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>                                                                               
        <span class="n">vRA</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">stateSphericalRADEC</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>                                                                                 
        <span class="n">vDEC</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">stateSphericalRADEC</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>                                                                            
        <span class="c1">#convert to cartesian                                                                                               </span>
        <span class="n">cosRA</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span><span class="n">RA</span><span class="p">)</span>                                                                                                     
        <span class="n">sinRA</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">RA</span><span class="p">)</span>                                                                                                     
        <span class="n">cosDEC</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span><span class="n">DEC</span><span class="p">)</span>                                                                                                   
        <span class="n">sinDEC</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">DEC</span><span class="p">)</span>                                                                                                   
        <span class="n">cosvRA</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span><span class="n">vRA</span><span class="p">)</span>                                                                                                   
        <span class="n">sinvRA</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">vRA</span><span class="p">)</span>                                                                                                   
        <span class="n">cosvDEC</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span><span class="n">vDEC</span><span class="p">)</span>                                                                                                 
        <span class="n">sinvDEC</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">vDEC</span><span class="p">)</span>                                                                                                 
                                                                                                                                        
        <span class="n">x</span> <span class="o">=</span> <span class="n">r</span> <span class="o">*</span> <span class="n">cosRA</span> <span class="o">*</span> <span class="n">cosDEC</span>                                                                                              
        <span class="n">y</span> <span class="o">=</span> <span class="n">r</span> <span class="o">*</span> <span class="n">sinRA</span> <span class="o">*</span> <span class="n">cosDEC</span>                                                                                              
        <span class="n">z</span> <span class="o">=</span> <span class="n">r</span> <span class="o">*</span> <span class="n">sinDEC</span><span class="p">;</span>                                                                                                     
        <span class="n">vx</span> <span class="o">=</span> <span class="n">v</span> <span class="o">*</span> <span class="n">cosvRA</span> <span class="o">*</span> <span class="n">cosvDEC</span>                                                                                         
        <span class="n">vy</span> <span class="o">=</span> <span class="n">v</span> <span class="o">*</span> <span class="n">sinvRA</span> <span class="o">*</span> <span class="n">cosvDEC</span>                                                                                         
        <span class="n">vz</span> <span class="o">=</span> <span class="n">v</span> <span class="o">*</span> <span class="n">sinvDEC</span><span class="p">;</span>    

        <span class="k">return</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">vx</span><span class="p">,</span> <span class="n">vy</span><span class="p">,</span> <span class="n">vz</span><span class="p">]</span></div>


<div class="viewcode-block" id="StateConverter.CartesiantoSphericalRADEC">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.CartesiantoSphericalRADEC">[docs]</a>
    <span class="k">def</span> <span class="nf">CartesiantoSphericalRADEC</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateCartesian</span><span class="p">):</span> <span class="c1">#doesn&#39;t need mu</span>
        <span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">asin</span><span class="p">,</span> <span class="n">atan2</span>
        <span class="n">x</span> <span class="o">=</span>  <span class="nb">float</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>                                                                                                
        <span class="n">y</span> <span class="o">=</span>  <span class="nb">float</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>                                                                                                
        <span class="n">z</span> <span class="o">=</span>  <span class="nb">float</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>                                                                                                
        <span class="n">vx</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>                                                                                               
        <span class="n">vy</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>                                                                                               
        <span class="n">vz</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>                                                                                               
                                                                                                                                     
        <span class="c1">#compute the correct state                                                                                       </span>
        <span class="n">r</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span>                                                                                    
        <span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="n">vx</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">vy</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">vz</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span>                                                                                 
        <span class="n">RA</span> <span class="o">=</span> <span class="n">atan2</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>                                                                                                 
        <span class="n">DEC</span> <span class="o">=</span> <span class="n">asin</span><span class="p">(</span><span class="n">z</span> <span class="o">/</span> <span class="n">r</span><span class="p">)</span>                                                                                                
        <span class="n">vRA</span> <span class="o">=</span> <span class="n">atan2</span><span class="p">(</span><span class="n">vy</span><span class="p">,</span> <span class="n">vx</span><span class="p">)</span>                                                                                            
        <span class="n">vDEC</span> <span class="o">=</span> <span class="n">asin</span><span class="p">(</span><span class="n">vz</span> <span class="o">/</span> <span class="n">v</span><span class="p">)</span>    

        <span class="k">return</span> <span class="p">[</span><span class="n">r</span><span class="p">,</span> <span class="n">RA</span><span class="p">,</span> <span class="n">DEC</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">vRA</span><span class="p">,</span> <span class="n">vDEC</span><span class="p">]</span></div>


<div class="viewcode-block" id="StateConverter.SphericalAZFPAtoCartesian">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.SphericalAZFPAtoCartesian">[docs]</a>
    <span class="k">def</span> <span class="nf">SphericalAZFPAtoCartesian</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateSphericalAZFPA</span><span class="p">):</span> <span class="c1">#doesn&#39;t need mu</span>
        <span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sin</span><span class="p">,</span> <span class="n">cos</span>
        <span class="n">r</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">stateSphericalAZFPA</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>                                                                               
        <span class="n">RA</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">stateSphericalAZFPA</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>                                                                              
        <span class="n">DEC</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">stateSphericalAZFPA</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>                                                                             
        <span class="n">v</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">stateSphericalAZFPA</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>                                                                               
        <span class="n">AZ</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">stateSphericalAZFPA</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>                                                                                 
        <span class="n">FPA</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">stateSphericalAZFPA</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
                                                                                                   
        <span class="n">cosRA</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span><span class="n">RA</span><span class="p">)</span>                                                                                                     
        <span class="n">sinRA</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">RA</span><span class="p">)</span>                                                                                                     
        <span class="n">cosDEC</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span><span class="n">DEC</span><span class="p">)</span>                                                                                                   
        <span class="n">sinDEC</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">DEC</span><span class="p">)</span>                                                                                                   
        <span class="n">cosAZ</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span><span class="n">AZ</span><span class="p">)</span>                                                                                                     
        <span class="n">sinAZ</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">AZ</span><span class="p">)</span>                                                                                                     
        <span class="n">cosFPA</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span><span class="n">FPA</span><span class="p">)</span>                                                                                                   
        <span class="n">sinFPA</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">FPA</span><span class="p">)</span>                                                                                                   
                                                                                                                                        
        <span class="n">x</span> <span class="o">=</span> <span class="n">r</span> <span class="o">*</span> <span class="n">cosRA</span> <span class="o">*</span> <span class="n">cosDEC</span>                                                                                              
        <span class="n">y</span> <span class="o">=</span> <span class="n">r</span> <span class="o">*</span> <span class="n">sinRA</span> <span class="o">*</span> <span class="n">cosDEC</span>                                                                                              
        <span class="n">z</span> <span class="o">=</span> <span class="n">r</span> <span class="o">*</span> <span class="n">sinDEC</span><span class="p">;</span>                                                                                                     
        <span class="n">vx</span> <span class="o">=</span> <span class="o">-</span><span class="n">v</span> <span class="o">*</span> <span class="p">(</span><span class="n">sinFPA</span><span class="o">*</span><span class="p">(</span><span class="n">sinAZ</span><span class="o">*</span><span class="n">sinRA</span> <span class="o">+</span> <span class="n">cosAZ</span> <span class="o">*</span> <span class="n">cosRA</span><span class="o">*</span><span class="n">sinDEC</span><span class="p">)</span> <span class="o">-</span> <span class="n">cosFPA</span> <span class="o">*</span> <span class="n">cosDEC</span><span class="o">*</span><span class="n">cosRA</span><span class="p">);</span>                                  
        <span class="n">vy</span> <span class="o">=</span>  <span class="n">v</span> <span class="o">*</span> <span class="p">(</span><span class="n">sinFPA</span><span class="o">*</span><span class="p">(</span><span class="n">cosRA</span><span class="o">*</span><span class="n">sinAZ</span> <span class="o">-</span> <span class="n">cosAZ</span> <span class="o">*</span> <span class="n">sinDEC</span><span class="o">*</span><span class="n">sinRA</span><span class="p">)</span> <span class="o">+</span> <span class="n">cosFPA</span> <span class="o">*</span> <span class="n">cosDEC</span><span class="o">*</span><span class="n">sinRA</span><span class="p">);</span>                                  
        <span class="n">vz</span> <span class="o">=</span>  <span class="n">v</span> <span class="o">*</span> <span class="p">(</span><span class="n">cosFPA</span><span class="o">*</span><span class="n">sinDEC</span> <span class="o">+</span> <span class="n">cosDEC</span> <span class="o">*</span> <span class="n">cosAZ</span><span class="o">*</span><span class="n">sinFPA</span><span class="p">);</span>   

        <span class="k">return</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">vx</span><span class="p">,</span> <span class="n">vy</span><span class="p">,</span> <span class="n">vz</span><span class="p">]</span></div>


<div class="viewcode-block" id="StateConverter.CartesiantoSphericalAZFPA">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.CartesiantoSphericalAZFPA">[docs]</a>
    <span class="k">def</span> <span class="nf">CartesiantoSphericalAZFPA</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateCartesian</span><span class="p">):</span> <span class="c1">#doesn&#39;t need mu</span>
        <span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">asin</span><span class="p">,</span> <span class="n">atan2</span><span class="p">,</span> <span class="n">acos</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">sin</span><span class="p">,</span> <span class="n">pi</span>
        <span class="kn">import</span> <span class="nn">numpy</span>

        <span class="n">x</span> <span class="o">=</span>  <span class="nb">float</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>                                                                                                
        <span class="n">y</span> <span class="o">=</span>  <span class="nb">float</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>                                                                                                
        <span class="n">z</span> <span class="o">=</span>  <span class="nb">float</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>                                                                                                
        <span class="n">vx</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>                                                                                               
        <span class="n">vy</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>                                                                                               
        <span class="n">vz</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span> 
    
        <span class="c1">#compute the correct state                                                                                  </span>
        <span class="n">r</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span>                                                                               
        <span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="n">vx</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">vy</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">vz</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span>                                                                            
        <span class="n">RA</span> <span class="o">=</span> <span class="n">atan2</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>                                                                                            
        <span class="n">DEC</span> <span class="o">=</span> <span class="n">asin</span><span class="p">(</span><span class="n">z</span> <span class="o">/</span> <span class="n">r</span><span class="p">)</span>                                                                                           
                                                                                                                                
        <span class="c1">#compute AZ and FPA                                                                                         </span>
        <span class="n">FPA</span> <span class="o">=</span> <span class="n">acos</span><span class="p">(</span> <span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">vx</span> <span class="o">+</span> <span class="n">y</span><span class="o">*</span><span class="n">vy</span> <span class="o">+</span> <span class="n">z</span><span class="o">*</span><span class="n">vz</span><span class="p">)</span> <span class="o">/</span> <span class="n">r</span> <span class="o">/</span> <span class="n">v</span> <span class="p">)</span>                                                            
                                                                                                                                
        <span class="c1">#azimuth is complicated                                                                                     </span>
        <span class="n">xhat</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">matrix</span><span class="p">([</span><span class="n">cos</span><span class="p">(</span><span class="n">RA</span><span class="p">)</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">DEC</span><span class="p">),</span> <span class="n">sin</span><span class="p">(</span><span class="n">RA</span><span class="p">)</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">DEC</span><span class="p">),</span> <span class="n">sin</span><span class="p">(</span><span class="n">DEC</span><span class="p">)])</span><span class="o">.</span><span class="n">T</span>                                       
        <span class="n">yhat</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">matrix</span><span class="p">([</span><span class="n">cos</span><span class="p">(</span><span class="n">RA</span> <span class="o">+</span> <span class="n">pi</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">),</span> <span class="n">sin</span><span class="p">(</span><span class="n">RA</span> <span class="o">+</span> <span class="n">pi</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>                                        
        <span class="n">zhat</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">matrix</span><span class="p">([</span><span class="o">-</span><span class="n">cos</span><span class="p">(</span><span class="n">RA</span><span class="p">)</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">DEC</span><span class="p">),</span> <span class="o">-</span><span class="n">sin</span><span class="p">(</span><span class="n">RA</span><span class="p">)</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">DEC</span><span class="p">),</span> <span class="n">cos</span><span class="p">(</span><span class="n">DEC</span><span class="p">)])</span><span class="o">.</span><span class="n">T</span>                                     
        <span class="n">R</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">hstack</span><span class="p">([</span><span class="n">xhat</span><span class="p">,</span> <span class="n">yhat</span><span class="p">,</span> <span class="n">zhat</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>                                                                      
        <span class="n">V</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">matrix</span><span class="p">([</span><span class="n">vx</span><span class="p">,</span> <span class="n">vy</span><span class="p">,</span> <span class="n">vz</span><span class="p">])</span><span class="o">.</span><span class="n">T</span> <span class="o">/</span> <span class="n">v</span>                                                                      
        <span class="n">Vprime</span> <span class="o">=</span> <span class="n">R</span> <span class="o">*</span> <span class="n">V</span>                                                                                              
        <span class="n">AZ</span> <span class="o">=</span> <span class="n">atan2</span><span class="p">(</span><span class="n">Vprime</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Vprime</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>    

        <span class="k">return</span> <span class="p">[</span><span class="n">r</span><span class="p">,</span> <span class="n">RA</span><span class="p">,</span> <span class="n">DEC</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">AZ</span><span class="p">,</span> <span class="n">FPA</span><span class="p">]</span></div>


<div class="viewcode-block" id="StateConverter.CartesiantoIncomingBplane">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.CartesiantoIncomingBplane">[docs]</a>
    <span class="k">def</span> <span class="nf">CartesiantoIncomingBplane</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">stateCartesian</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">stateCartesian</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="mi">5</span><span class="p">]])</span>

        <span class="kn">from</span> <span class="nn">posVel2BPlane</span> <span class="kn">import</span> <span class="n">posVel2BPlane</span>
        <span class="n">bplane</span> <span class="o">=</span> <span class="n">posVel2BPlane</span><span class="p">()</span>

        <span class="n">theta</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">bTheta</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">Bmag</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">bScalar</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">vinf</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">vInfMag</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">RA</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">vInfRA</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">Dec</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">vInfDec</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">trueAnomaly</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">trueAnomaly</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">vinf</span><span class="p">,</span> <span class="n">RA</span><span class="p">,</span> <span class="n">Dec</span><span class="p">,</span> <span class="n">Bmag</span><span class="p">,</span> <span class="n">theta</span><span class="p">,</span> <span class="n">trueAnomaly</span><span class="p">]</span></div>


<div class="viewcode-block" id="StateConverter.CartesiantoOutgoingBplane">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.CartesiantoOutgoingBplane">[docs]</a>
    <span class="k">def</span> <span class="nf">CartesiantoOutgoingBplane</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">stateCartesian</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">stateCartesian</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="mi">5</span><span class="p">]])</span>

        <span class="kn">from</span> <span class="nn">posVel2BPlaneOut</span> <span class="kn">import</span> <span class="n">posVel2BPlaneOut</span>
        <span class="n">bplane</span> <span class="o">=</span> <span class="n">posVel2BPlaneOut</span><span class="p">()</span>

        <span class="n">theta</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">bTheta</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">Bmag</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">bScalar</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">vinf</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">vInfMag</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">RA</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">vInfRA</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">Dec</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">vInfDec</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">trueAnomaly</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">trueAnomaly</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">vinf</span><span class="p">,</span> <span class="n">RA</span><span class="p">,</span> <span class="n">Dec</span><span class="p">,</span> <span class="n">Bmag</span><span class="p">,</span> <span class="n">theta</span><span class="p">,</span> <span class="n">trueAnomaly</span><span class="p">]</span></div>

    
<div class="viewcode-block" id="StateConverter.CartesiantoIncomingBplaneRpTA">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.CartesiantoIncomingBplaneRpTA">[docs]</a>
    <span class="k">def</span> <span class="nf">CartesiantoIncomingBplaneRpTA</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">stateCartesian</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">stateCartesian</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="mi">5</span><span class="p">]])</span>

        <span class="kn">from</span> <span class="nn">posVel2BPlane</span> <span class="kn">import</span> <span class="n">posVel2BPlane</span>
        <span class="n">bplane</span> <span class="o">=</span> <span class="n">posVel2BPlane</span><span class="p">()</span>

        <span class="n">theta</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">bTheta</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">rp</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">rPeri</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">vinf</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">vInfMag</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">RA</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">vInfRA</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">Dec</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">vInfDec</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">trueAnomaly</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">trueAnomaly</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">vinf</span><span class="p">,</span> <span class="n">RA</span><span class="p">,</span> <span class="n">Dec</span><span class="p">,</span> <span class="n">rp</span><span class="p">,</span> <span class="n">theta</span><span class="p">,</span> <span class="n">trueAnomaly</span><span class="p">]</span></div>

    
<div class="viewcode-block" id="StateConverter.CartesiantoOutgoingBplaneRpTA">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.CartesiantoOutgoingBplaneRpTA">[docs]</a>
    <span class="k">def</span> <span class="nf">CartesiantoOutgoingBplaneRpTA</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">stateCartesian</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">stateCartesian</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="mi">5</span><span class="p">]])</span>

        <span class="kn">from</span> <span class="nn">posVel2BPlaneOut</span> <span class="kn">import</span> <span class="n">posVel2BPlaneOut</span>
        <span class="n">bplane</span> <span class="o">=</span> <span class="n">posVel2BPlaneOut</span><span class="p">()</span>

        <span class="n">theta</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">bTheta</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">rp</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">rPeri</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">vinf</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">vInfMag</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">RA</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">vInfRA</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">Dec</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">vInfDec</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">trueAnomaly</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">trueAnomaly</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">vinf</span><span class="p">,</span> <span class="n">RA</span><span class="p">,</span> <span class="n">Dec</span><span class="p">,</span> <span class="n">rp</span><span class="p">,</span> <span class="n">theta</span><span class="p">,</span> <span class="n">trueAnomaly</span><span class="p">]</span></div>


<div class="viewcode-block" id="StateConverter.CartesiantoMEE">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.CartesiantoMEE">[docs]</a>
    <span class="k">def</span> <span class="nf">CartesiantoMEE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>
        <span class="n">stateCOE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoCOE</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoMEE</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span></div>


<div class="viewcode-block" id="StateConverter.IncomingBplanetoCartesian">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.IncomingBplanetoCartesian">[docs]</a>
    <span class="k">def</span> <span class="nf">IncomingBplanetoCartesian</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">BPlane2PosVel</span> <span class="kn">import</span> <span class="n">BPlane2PosVel</span>
        <span class="n">bplane</span> <span class="o">=</span> <span class="n">BPlane2PosVel</span><span class="p">()</span>
    
        <span class="n">r</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">positionVector</span><span class="p">(</span><span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">velocityVector</span><span class="p">(</span><span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span></div>


<div class="viewcode-block" id="StateConverter.OutgoingBplanetoCartesian">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.OutgoingBplanetoCartesian">[docs]</a>
    <span class="k">def</span> <span class="nf">OutgoingBplanetoCartesian</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">BPlane2PosVelOut</span> <span class="kn">import</span> <span class="n">BPlane2PosVelOut</span>
        <span class="n">bplane</span> <span class="o">=</span> <span class="n">BPlane2PosVelOut</span><span class="p">()</span>
    
        <span class="n">r</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">positionVector</span><span class="p">(</span><span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">velocityVector</span><span class="p">(</span><span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span></div>

    
<div class="viewcode-block" id="StateConverter.IncomingBplaneRpTAtoCartesian">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.IncomingBplaneRpTAtoCartesian">[docs]</a>
    <span class="k">def</span> <span class="nf">IncomingBplaneRpTAtoCartesian</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">BPlaneRpTA2PosVel</span> <span class="kn">import</span> <span class="n">BPlaneRpTA2PosVel</span>
        <span class="n">bplane</span> <span class="o">=</span> <span class="n">BPlaneRpTA2PosVel</span><span class="p">()</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">positionVector</span><span class="p">(</span><span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">velocityVector</span><span class="p">(</span><span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span></div>

    
<div class="viewcode-block" id="StateConverter.OutgoingBplaneRpTAtoCartesian">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.OutgoingBplaneRpTAtoCartesian">[docs]</a>
    <span class="k">def</span> <span class="nf">OutgoingBplaneRpTAtoCartesian</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">BPlaneRpTA2PosVelOut</span> <span class="kn">import</span> <span class="n">BPlaneRpTA2PosVelOut</span>
        <span class="n">bplane</span> <span class="o">=</span> <span class="n">BPlaneRpTA2PosVelOut</span><span class="p">()</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">positionVector</span><span class="p">(</span><span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">bplane</span><span class="o">.</span><span class="n">velocityVector</span><span class="p">(</span><span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span></div>


<div class="viewcode-block" id="StateConverter.MEEtoCOE">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.MEEtoCOE">[docs]</a>
    <span class="k">def</span> <span class="nf">MEEtoCOE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateMEE</span><span class="p">,</span> <span class="n">mu</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">prograde</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span><span class="p">,</span> <span class="n">atan2</span><span class="p">,</span> <span class="n">atan</span><span class="p">,</span> <span class="n">pi</span>
        <span class="n">P</span> <span class="o">=</span> <span class="n">stateMEE</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">F</span> <span class="o">=</span> <span class="n">stateMEE</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">G</span> <span class="o">=</span> <span class="n">stateMEE</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">H</span> <span class="o">=</span> <span class="n">stateMEE</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="n">K</span> <span class="o">=</span> <span class="n">stateMEE</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
        <span class="n">L</span> <span class="o">=</span> <span class="n">stateMEE</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>

        <span class="n">SMA</span> <span class="o">=</span> <span class="n">P</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">-</span> <span class="n">F</span> <span class="o">*</span> <span class="n">F</span> <span class="o">-</span> <span class="n">G</span> <span class="o">*</span> <span class="n">G</span><span class="p">)</span>
        <span class="n">ECC</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">F</span> <span class="o">*</span> <span class="n">F</span> <span class="o">+</span> <span class="n">G</span> <span class="o">*</span> <span class="n">G</span><span class="p">)</span>

        <span class="n">A</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">H</span> <span class="o">*</span> <span class="n">H</span> <span class="o">+</span> <span class="n">K</span> <span class="o">*</span> <span class="n">K</span><span class="p">)</span>
        <span class="n">B</span> <span class="o">=</span> <span class="n">atan2</span><span class="p">(</span><span class="n">G</span> <span class="o">/</span> <span class="n">ECC</span><span class="p">,</span> <span class="n">F</span> <span class="o">/</span> <span class="n">ECC</span><span class="p">)</span>

        <span class="n">RAAN</span> <span class="o">=</span> <span class="n">atan2</span><span class="p">(</span><span class="n">K</span> <span class="o">/</span> <span class="n">A</span><span class="p">,</span> <span class="n">H</span> <span class="o">/</span> <span class="n">A</span><span class="p">)</span>

        <span class="c1">#how do you check an MEE state for whether it is prograde or retrograde?</span>

        <span class="n">INC</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">AOP</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">prograde</span><span class="p">:</span>
            <span class="n">INC</span> <span class="o">=</span> <span class="mf">2.0</span> <span class="o">*</span> <span class="n">atan</span><span class="p">(</span><span class="n">A</span><span class="p">);</span>
            <span class="n">AOP</span> <span class="o">=</span> <span class="n">B</span> <span class="o">-</span> <span class="n">RAAN</span><span class="p">;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">INC</span> <span class="o">=</span> <span class="n">pi</span> <span class="o">-</span> <span class="mf">2.0</span> <span class="o">*</span> <span class="n">atan</span><span class="p">(</span><span class="n">A</span><span class="p">);</span>
            <span class="n">AOP</span> <span class="o">=</span> <span class="n">B</span> <span class="o">+</span> <span class="n">RAAN</span>

        <span class="n">TA</span> <span class="o">=</span> <span class="n">L</span> <span class="o">-</span> <span class="n">B</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">SMA</span><span class="p">,</span> <span class="n">ECC</span><span class="p">,</span> <span class="n">INC</span><span class="p">,</span> <span class="n">RAAN</span><span class="p">,</span> <span class="n">AOP</span><span class="p">,</span> <span class="n">TA</span><span class="p">]</span></div>


<div class="viewcode-block" id="StateConverter.COEtoMEE">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.COEtoMEE">[docs]</a>
    <span class="k">def</span> <span class="nf">COEtoMEE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sin</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">tan</span>
        <span class="n">SMA</span> <span class="o">=</span>  <span class="n">stateCOE</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">ECC</span> <span class="o">=</span>  <span class="n">stateCOE</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">INC</span> <span class="o">=</span>  <span class="n">stateCOE</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">RAAN</span> <span class="o">=</span> <span class="n">stateCOE</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="n">AOP</span> <span class="o">=</span>  <span class="n">stateCOE</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
        <span class="n">TA</span> <span class="o">=</span>   <span class="n">stateCOE</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>

        <span class="n">tanINCover2</span> <span class="o">=</span> <span class="n">tan</span><span class="p">(</span><span class="n">INC</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
        <span class="n">cosINCover2</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span><span class="n">INC</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
        <span class="n">cosRAANplusAOP</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span><span class="n">RAAN</span> <span class="o">+</span> <span class="n">AOP</span><span class="p">)</span>
        <span class="n">sinRAANplusAOP</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">RAAN</span> <span class="o">+</span> <span class="n">AOP</span><span class="p">)</span>
        <span class="n">cosRAAN</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span><span class="n">RAAN</span><span class="p">)</span>
        <span class="n">sinRAAN</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">RAAN</span><span class="p">)</span>
            
        <span class="n">P</span> <span class="o">=</span> <span class="n">SMA</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">ECC</span> <span class="o">*</span> <span class="n">ECC</span><span class="p">)</span>
        <span class="n">F</span> <span class="o">=</span> <span class="n">ECC</span> <span class="o">*</span> <span class="n">cosRAANplusAOP</span>
        <span class="n">G</span> <span class="o">=</span> <span class="n">ECC</span> <span class="o">*</span> <span class="n">sinRAANplusAOP</span>
        <span class="n">H</span> <span class="o">=</span> <span class="n">tanINCover2</span> <span class="o">*</span> <span class="n">cosRAAN</span>
        <span class="n">K</span> <span class="o">=</span> <span class="n">tanINCover2</span> <span class="o">*</span> <span class="n">sinRAAN</span>
        <span class="n">L</span> <span class="o">=</span> <span class="n">RAAN</span> <span class="o">+</span> <span class="n">AOP</span> <span class="o">+</span> <span class="n">TA</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">F</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">L</span><span class="p">]</span></div>


<div class="viewcode-block" id="StateConverter.COEtoSphericalAZFPA">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.COEtoSphericalAZFPA">[docs]</a>
    <span class="k">def</span> <span class="nf">COEtoSphericalAZFPA</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoCartesian</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateSphericalAZFPA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoSphericalAZFPA</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">stateSphericalAZFPA</span></div>


<div class="viewcode-block" id="StateConverter.COEtoSphericalRADEC">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.COEtoSphericalRADEC">[docs]</a>
    <span class="k">def</span> <span class="nf">COEtoSphericalRADEC</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoCartesian</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateSphericalRADEC</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoSphericalRADEC</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">stateSphericalRADEC</span></div>


<div class="viewcode-block" id="StateConverter.COEtoIncomingBplane">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.COEtoIncomingBplane">[docs]</a>
    <span class="k">def</span> <span class="nf">COEtoIncomingBplane</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoCartesian</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateIncomingBplane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoIncomingBplane</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateIncomingBplane</span></div>


<div class="viewcode-block" id="StateConverter.COEtoOutgoingBplane">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.COEtoOutgoingBplane">[docs]</a>
    <span class="k">def</span> <span class="nf">COEtoOutgoingBplane</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoCartesian</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateOutgoingBplane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoOutgoingBplane</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateOutgoingBplane</span></div>

    
<div class="viewcode-block" id="StateConverter.COEtoIncomingBplaneRpTA">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.COEtoIncomingBplaneRpTA">[docs]</a>
    <span class="k">def</span> <span class="nf">COEtoIncomingBplaneRpTA</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoCartesian</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateIncomingBplaneRpTA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoIncomingBplaneRpTA</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateIncomingBplaneRpTA</span></div>


<div class="viewcode-block" id="StateConverter.COEtoOutgoingBplaneRpTA">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.COEtoOutgoingBplaneRpTA">[docs]</a>
    <span class="k">def</span> <span class="nf">COEtoOutgoingBplaneRpTA</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoCartesian</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateOutgoingBplaneRpTA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoOutgoingBplaneRpTA</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateOutgoingBplaneRpTA</span></div>


<div class="viewcode-block" id="StateConverter.SphericalAZFPAtoCOE">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.SphericalAZFPAtoCOE">[docs]</a>
    <span class="k">def</span> <span class="nf">SphericalAZFPAtoCOE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateSphericalAZFPA</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalAZFPAtoCartesian</span><span class="p">(</span><span class="n">stateSphericalAZFPA</span><span class="p">)</span>

        <span class="n">stateCOE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoCOE</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">stateCOE</span></div>


<div class="viewcode-block" id="StateConverter.SphericalAZFPAtoSphericalRADEC">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.SphericalAZFPAtoSphericalRADEC">[docs]</a>
    <span class="k">def</span> <span class="nf">SphericalAZFPAtoSphericalRADEC</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateSphericalAZFPA</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalAZFPAtoCartesian</span><span class="p">(</span><span class="n">stateSphericalAZFPA</span><span class="p">)</span>

        <span class="n">stateSphericalRADEC</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoSphericalRADEC</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">stateSphericalRADEC</span></div>


<div class="viewcode-block" id="StateConverter.SphericalAZFPAtoIncomingBplane">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.SphericalAZFPAtoIncomingBplane">[docs]</a>
    <span class="k">def</span> <span class="nf">SphericalAZFPAtoIncomingBplane</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateSphericalAZFPA</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalAZFPAtoCartesian</span><span class="p">(</span><span class="n">stateSphericalAZFPA</span><span class="p">)</span>

        <span class="n">stateIncomingBplane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoIncomingBplane</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateIncomingBplane</span></div>


<div class="viewcode-block" id="StateConverter.SphericalAZFPAtoOutgoingBplane">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.SphericalAZFPAtoOutgoingBplane">[docs]</a>
    <span class="k">def</span> <span class="nf">SphericalAZFPAtoOutgoingBplane</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateSphericalAZFPA</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalAZFPAtoCartesian</span><span class="p">(</span><span class="n">stateSphericalAZFPA</span><span class="p">)</span>

        <span class="n">stateOutgoingBplane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoOutgoingBplane</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateOutgoingBplane</span></div>

    
<div class="viewcode-block" id="StateConverter.SphericalAZFPAtoIncomingBplaneRpTA">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.SphericalAZFPAtoIncomingBplaneRpTA">[docs]</a>
    <span class="k">def</span> <span class="nf">SphericalAZFPAtoIncomingBplaneRpTA</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateSphericalAZFPA</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalAZFPAtoCartesian</span><span class="p">(</span><span class="n">stateSphericalAZFPA</span><span class="p">)</span>

        <span class="n">stateIncomingBplaneRpTA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoIncomingBplaneRpTA</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateIncomingBplaneRpTA</span></div>


<div class="viewcode-block" id="StateConverter.SphericalAZFPAtoOutgoingBplaneRpTA">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.SphericalAZFPAtoOutgoingBplaneRpTA">[docs]</a>
    <span class="k">def</span> <span class="nf">SphericalAZFPAtoOutgoingBplaneRpTA</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateSphericalAZFPA</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalAZFPAtoCartesian</span><span class="p">(</span><span class="n">stateSphericalAZFPA</span><span class="p">)</span>

        <span class="n">stateOutgoingBplaneRpTA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoOutgoingBplaneRpTA</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateOutgoingBplaneRpTA</span></div>

    
<div class="viewcode-block" id="StateConverter.SphericalAZFPAtoMEE">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.SphericalAZFPAtoMEE">[docs]</a>
    <span class="k">def</span> <span class="nf">SphericalAZFPAtoMEE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateSphericalAZFPA</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCOE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalAZFPAtoCOE</span><span class="p">(</span><span class="n">stateSphericalAZFPA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoMEE</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span></div>


<div class="viewcode-block" id="StateConverter.SphericalRADECtoCOE">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.SphericalRADECtoCOE">[docs]</a>
    <span class="k">def</span> <span class="nf">SphericalRADECtoCOE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateSphericalRADEC</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalRADECtoCartesian</span><span class="p">(</span><span class="n">stateSphericalRADEC</span><span class="p">)</span>

        <span class="n">stateCOE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoCOE</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">stateCOE</span></div>


<div class="viewcode-block" id="StateConverter.SphericalRADECtoSphericalAZFPA">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.SphericalRADECtoSphericalAZFPA">[docs]</a>
    <span class="k">def</span> <span class="nf">SphericalRADECtoSphericalAZFPA</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateSphericalRADEC</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalRADECtoCartesian</span><span class="p">(</span><span class="n">stateSphericalRADEC</span><span class="p">)</span>

        <span class="n">stateSphericalAZFPA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoSphericalAZFPA</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">stateSphericalAZFPA</span></div>


<div class="viewcode-block" id="StateConverter.SphericalRADECtoIncomingBplane">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.SphericalRADECtoIncomingBplane">[docs]</a>
    <span class="k">def</span> <span class="nf">SphericalRADECtoIncomingBplane</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateSphericalRADEC</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalRADECtoCartesian</span><span class="p">(</span><span class="n">stateSphericalRADEC</span><span class="p">)</span>

        <span class="n">stateIncomingBplane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoIncomingBplane</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateIncomingBplane</span></div>


<div class="viewcode-block" id="StateConverter.SphericalRADECtoOutgoingBplane">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.SphericalRADECtoOutgoingBplane">[docs]</a>
    <span class="k">def</span> <span class="nf">SphericalRADECtoOutgoingBplane</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateSphericalRADEC</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalRADECtoCartesian</span><span class="p">(</span><span class="n">stateSphericalRADEC</span><span class="p">)</span>

        <span class="n">stateOutgoingBplane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoOutgoingBplane</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateOutgoingBplane</span></div>

    
<div class="viewcode-block" id="StateConverter.SphericalRADECtoIncomingBplaneRpTA">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.SphericalRADECtoIncomingBplaneRpTA">[docs]</a>
    <span class="k">def</span> <span class="nf">SphericalRADECtoIncomingBplaneRpTA</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateSphericalRADEC</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalRADECtoCartesian</span><span class="p">(</span><span class="n">stateSphericalRADEC</span><span class="p">)</span>

        <span class="n">stateIncomingBplaneRpTA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoIncomingBplaneRpTA</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateIncomingBplaneRpTA</span></div>


<div class="viewcode-block" id="StateConverter.SphericalRADECtoOutgoingBplaneRpTA">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.SphericalRADECtoOutgoingBplaneRpTA">[docs]</a>
    <span class="k">def</span> <span class="nf">SphericalRADECtoOutgoingBplaneRpTA</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateSphericalRADEC</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalRADECtoCartesian</span><span class="p">(</span><span class="n">stateSphericalRADEC</span><span class="p">)</span>

        <span class="n">stateOutgoingBplaneRpTA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoOutgoingBplaneRpTA</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateOutgoingBplaneRpTA</span></div>

    
<div class="viewcode-block" id="StateConverter.SphericalRADECtoMEE">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.SphericalRADECtoMEE">[docs]</a>
    <span class="k">def</span> <span class="nf">SphericalRADECtoMEE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateSphericalRADEC</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCOE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalRADECtoCOE</span><span class="p">(</span><span class="n">stateSphericalRADEC</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoMEE</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span></div>


<div class="viewcode-block" id="StateConverter.IncomingBplanetoCOE">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.IncomingBplanetoCOE">[docs]</a>
    <span class="k">def</span> <span class="nf">IncomingBplanetoCOE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplanetoCartesian</span><span class="p">(</span><span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateCOE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoCOE</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateCOE</span></div>


<div class="viewcode-block" id="StateConverter.IncomingBplanetoSphericalAZFPA">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.IncomingBplanetoSphericalAZFPA">[docs]</a>
    <span class="k">def</span> <span class="nf">IncomingBplanetoSphericalAZFPA</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplanetoCartesian</span><span class="p">(</span><span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateSphericalAZFPA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoSphericalAZFPA</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateSphericalAZFPA</span></div>


<div class="viewcode-block" id="StateConverter.IncomingBplanetoSphericalRADEC">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.IncomingBplanetoSphericalRADEC">[docs]</a>
    <span class="k">def</span> <span class="nf">IncomingBplanetoSphericalRADEC</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplanetoCartesian</span><span class="p">(</span><span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateSphericalRADEC</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoSphericalRADEC</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateSphericalRADEC</span></div>

    
<div class="viewcode-block" id="StateConverter.IncomingBplanetoIncomingBplaneRpTA">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.IncomingBplanetoIncomingBplaneRpTA">[docs]</a>
    <span class="k">def</span> <span class="nf">IncomingBplanetoIncomingBplaneRpTA</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplanetoCartesian</span><span class="p">(</span><span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateIncomingBplaneRpTA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoIncomingBplaneRpTA</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateIncomingBplaneRpTA</span></div>


<div class="viewcode-block" id="StateConverter.IncomingBplanetoOutgoingBplane">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.IncomingBplanetoOutgoingBplane">[docs]</a>
    <span class="k">def</span> <span class="nf">IncomingBplanetoOutgoingBplane</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplanetoCartesian</span><span class="p">(</span><span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateOutgoingBplane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoOutgoingBplane</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateOutgoingBplane</span>    </div>

    
<div class="viewcode-block" id="StateConverter.IncomingBplanetoOutgoingBplaneRpTA">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.IncomingBplanetoOutgoingBplaneRpTA">[docs]</a>
    <span class="k">def</span> <span class="nf">IncomingBplanetoOutgoingBplaneRpTA</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplanetoCartesian</span><span class="p">(</span><span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateOutgoingBplaneRpTA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoOutgoingBplaneRpTA</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateOutgoingBplaneRpTA</span></div>


<div class="viewcode-block" id="StateConverter.IncomingBplanetoMEE">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.IncomingBplanetoMEE">[docs]</a>
    <span class="k">def</span> <span class="nf">IncomingBplanetoMEE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCOE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplanetoCOE</span><span class="p">(</span><span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoMEE</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span></div>


<div class="viewcode-block" id="StateConverter.OutgoingBplanetoCOE">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.OutgoingBplanetoCOE">[docs]</a>
    <span class="k">def</span> <span class="nf">OutgoingBplanetoCOE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplanetoCartesian</span><span class="p">(</span><span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateCOE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoCOE</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateCOE</span></div>


<div class="viewcode-block" id="StateConverter.OutgoingBplanetoSphericalAZFPA">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.OutgoingBplanetoSphericalAZFPA">[docs]</a>
    <span class="k">def</span> <span class="nf">OutgoingBplanetoSphericalAZFPA</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplanetoCartesian</span><span class="p">(</span><span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateSphericalAZFPA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoSphericalAZFPA</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateSphericalAZFPA</span></div>


<div class="viewcode-block" id="StateConverter.OutgoingBplanetoSphericalRADEC">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.OutgoingBplanetoSphericalRADEC">[docs]</a>
    <span class="k">def</span> <span class="nf">OutgoingBplanetoSphericalRADEC</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplanetoCartesian</span><span class="p">(</span><span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateSphericalRADEC</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoSphericalRADEC</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateSphericalRADEC</span></div>


<div class="viewcode-block" id="StateConverter.OutgoingBplanetoIncomingBplane">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.OutgoingBplanetoIncomingBplane">[docs]</a>
    <span class="k">def</span> <span class="nf">OutgoingBplanetoIncomingBplane</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplanetoCartesian</span><span class="p">(</span><span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateIncomingBplane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoIncomingBplane</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateIncomingBplane</span></div>

    
<div class="viewcode-block" id="StateConverter.OutgoingBplanetoIncomingBplaneRpTA">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.OutgoingBplanetoIncomingBplaneRpTA">[docs]</a>
    <span class="k">def</span> <span class="nf">OutgoingBplanetoIncomingBplaneRpTA</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplanetoCartesian</span><span class="p">(</span><span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateIncomingBplaneRpTA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoIncomingBplaneRpTA</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateIncomingBplaneRpTA</span></div>

    
<div class="viewcode-block" id="StateConverter.OutgoingBplanetoOutgoingBplaneRpTA">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.OutgoingBplanetoOutgoingBplaneRpTA">[docs]</a>
    <span class="k">def</span> <span class="nf">OutgoingBplanetoOutgoingBplaneRpTA</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplanetoCartesian</span><span class="p">(</span><span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateOutgoingBplaneRpTA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoOutgoingBplaneRpTA</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateOutgoingBplaneRpTA</span></div>

    
<div class="viewcode-block" id="StateConverter.OutgoingBplanetoMEE">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.OutgoingBplanetoMEE">[docs]</a>
    <span class="k">def</span> <span class="nf">OutgoingBplanetoMEE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCOE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplanetoCOE</span><span class="p">(</span><span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoMEE</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="StateConverter.IncomingBplaneRpTAtoCOE">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.IncomingBplaneRpTAtoCOE">[docs]</a>
    <span class="k">def</span> <span class="nf">IncomingBplaneRpTAtoCOE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplaneRpTAtoCartesian</span><span class="p">(</span><span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateCOE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoCOE</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateCOE</span></div>


<div class="viewcode-block" id="StateConverter.IncomingBplaneRpTAtoSphericalAZFPA">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.IncomingBplaneRpTAtoSphericalAZFPA">[docs]</a>
    <span class="k">def</span> <span class="nf">IncomingBplaneRpTAtoSphericalAZFPA</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplaneRpTAtoCartesian</span><span class="p">(</span><span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateSphericalAZFPA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoSphericalAZFPA</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateSphericalAZFPA</span></div>


<div class="viewcode-block" id="StateConverter.IncomingBplaneRpTAtoSphericalRADEC">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.IncomingBplaneRpTAtoSphericalRADEC">[docs]</a>
    <span class="k">def</span> <span class="nf">IncomingBplaneRpTAtoSphericalRADEC</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplaneRpTAtoCartesian</span><span class="p">(</span><span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateSphericalRADEC</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoSphericalRADEC</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateSphericalRADEC</span></div>

    
<div class="viewcode-block" id="StateConverter.IncomingBplaneRpTAtoIncomingBplane">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.IncomingBplaneRpTAtoIncomingBplane">[docs]</a>
    <span class="k">def</span> <span class="nf">IncomingBplaneRpTAtoIncomingBplane</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplaneRpTAtoCartesian</span><span class="p">(</span><span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateIncomingBplane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoIncomingBplane</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateIncomingBplane</span></div>


<div class="viewcode-block" id="StateConverter.IncomingBplaneRpTAtoOutgoingBplane">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.IncomingBplaneRpTAtoOutgoingBplane">[docs]</a>
    <span class="k">def</span> <span class="nf">IncomingBplaneRpTAtoOutgoingBplane</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplaneRpTAtoCartesian</span><span class="p">(</span><span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateOutgoingBplane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoOutgoingBplane</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateOutgoingBplane</span></div>

    
<div class="viewcode-block" id="StateConverter.IncomingBplaneRpTAtoOutgoingBplaneRpTA">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.IncomingBplaneRpTAtoOutgoingBplaneRpTA">[docs]</a>
    <span class="k">def</span> <span class="nf">IncomingBplaneRpTAtoOutgoingBplaneRpTA</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplaneRpTAtoCartesian</span><span class="p">(</span><span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateOutgoingBplaneRpTA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoOutgoingBplaneRpTA</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateOutgoingBplaneRpTA</span></div>


<div class="viewcode-block" id="StateConverter.IncomingBplaneRpTAtoMEE">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.IncomingBplaneRpTAtoMEE">[docs]</a>
    <span class="k">def</span> <span class="nf">IncomingBplaneRpTAtoMEE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCOE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplaneRpTAtoCOE</span><span class="p">(</span><span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoMEE</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span></div>


<div class="viewcode-block" id="StateConverter.OutgoingBplaneRpTAtoCOE">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.OutgoingBplaneRpTAtoCOE">[docs]</a>
    <span class="k">def</span> <span class="nf">OutgoingBplaneRpTAtoCOE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplaneRpTAtoCartesian</span><span class="p">(</span><span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateCOE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoCOE</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateCOE</span></div>


<div class="viewcode-block" id="StateConverter.OutgoingBplaneRpTAtoSphericalAZFPA">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.OutgoingBplaneRpTAtoSphericalAZFPA">[docs]</a>
    <span class="k">def</span> <span class="nf">OutgoingBplaneRpTAtoSphericalAZFPA</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplaneRpTAtoCartesian</span><span class="p">(</span><span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateSphericalAZFPA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoSphericalAZFPA</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateSphericalAZFPA</span></div>


<div class="viewcode-block" id="StateConverter.OutgoingBplaneRpTAtoSphericalRADEC">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.OutgoingBplaneRpTAtoSphericalRADEC">[docs]</a>
    <span class="k">def</span> <span class="nf">OutgoingBplaneRpTAtoSphericalRADEC</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplaneRpTAtoCartesian</span><span class="p">(</span><span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateSphericalRADEC</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoSphericalRADEC</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateSphericalRADEC</span></div>


<div class="viewcode-block" id="StateConverter.OutgoingBplaneRpTAtoIncomingBplane">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.OutgoingBplaneRpTAtoIncomingBplane">[docs]</a>
    <span class="k">def</span> <span class="nf">OutgoingBplaneRpTAtoIncomingBplane</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplaneRpTAtoCartesian</span><span class="p">(</span><span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateIncomingBplane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoIncomingBplane</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateIncomingBplane</span></div>

    
<div class="viewcode-block" id="StateConverter.OutgoingBplaneRpTAtoIncomingBplaneRpTA">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.OutgoingBplaneRpTAtoIncomingBplaneRpTA">[docs]</a>
    <span class="k">def</span> <span class="nf">OutgoingBplaneRpTAtoIncomingBplaneRpTA</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplaneRpTAtoCartesian</span><span class="p">(</span><span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateIncomingBplaneRpTA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoIncomingBplaneRpTA</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateIncomingBplaneRpTA</span></div>

    
<div class="viewcode-block" id="StateConverter.OutgoingBplaneRpTAtoOutgoingBplane">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.OutgoingBplaneRpTAtoOutgoingBplane">[docs]</a>
    <span class="k">def</span> <span class="nf">OutgoingBplaneRpTAtoOutgoingBplane</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplaneRpTAtoCartesian</span><span class="p">(</span><span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="n">stateOutgoingBplane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoOutgoingBplane</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="n">stateOutgoingBplane</span></div>

    
<div class="viewcode-block" id="StateConverter.OutgoingBplaneRpTAtoMEE">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.OutgoingBplaneRpTAtoMEE">[docs]</a>
    <span class="k">def</span> <span class="nf">OutgoingBplaneRpTAtoMEE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
        <span class="n">stateCOE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplaneRpTAtoCOE</span><span class="p">(</span><span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoMEE</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="StateConverter.MEEtoCartesian">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.MEEtoCartesian">[docs]</a>
    <span class="k">def</span> <span class="nf">MEEtoCartesian</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateMEE</span><span class="p">,</span> <span class="n">mu</span><span class="p">,</span> <span class="n">prograde</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">stateCOE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MEEtoCOE</span><span class="p">(</span><span class="n">stateMEE</span><span class="p">,</span> <span class="n">mu</span><span class="p">,</span> <span class="n">prograde</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoCartesian</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span></div>


<div class="viewcode-block" id="StateConverter.MEEtoSphericalRADEC">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.MEEtoSphericalRADEC">[docs]</a>
    <span class="k">def</span> <span class="nf">MEEtoSphericalRADEC</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateMEE</span><span class="p">,</span> <span class="n">mu</span><span class="p">,</span> <span class="n">prograde</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">stateCOE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MEEtoCOE</span><span class="p">(</span><span class="n">stateMEE</span><span class="p">,</span> <span class="n">mu</span><span class="p">,</span> <span class="n">prograde</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoSphericalRADEC</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="StateConverter.MEEtoSphericalAZFPA">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.MEEtoSphericalAZFPA">[docs]</a>
    <span class="k">def</span> <span class="nf">MEEtoSphericalAZFPA</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateMEE</span><span class="p">,</span> <span class="n">mu</span><span class="p">,</span> <span class="n">prograde</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">stateCOE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MEEtoCOE</span><span class="p">(</span><span class="n">stateMEE</span><span class="p">,</span> <span class="n">mu</span><span class="p">,</span> <span class="n">prograde</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoSphericalAZFPA</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="StateConverter.MEEtoIncomingAsymptote">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.MEEtoIncomingAsymptote">[docs]</a>
    <span class="k">def</span> <span class="nf">MEEtoIncomingAsymptote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateMEE</span><span class="p">,</span> <span class="n">mu</span><span class="p">,</span> <span class="n">prograde</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">stateCOE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MEEtoCOE</span><span class="p">(</span><span class="n">stateMEE</span><span class="p">,</span> <span class="n">mu</span><span class="p">,</span> <span class="n">prograde</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoIncomingAsymptote</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="StateConverter.MEEtoOutgoingAsymptote">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.MEEtoOutgoingAsymptote">[docs]</a>
    <span class="k">def</span> <span class="nf">MEEtoOutgoingAsymptote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stateMEE</span><span class="p">,</span> <span class="n">mu</span><span class="p">,</span> <span class="n">prograde</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">stateCOE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MEEtoCOE</span><span class="p">(</span><span class="n">stateMEE</span><span class="p">,</span> <span class="n">mu</span><span class="p">,</span> <span class="n">prograde</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoOutgoingAsymptote</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span></div>

    <span class="c1">################################################################################</span>
<div class="viewcode-block" id="StateConverter.convertDecisionVector">
<a class="viewcode-back" href="../PyEMTG/StateConverter.html#StateConverter.StateConverter.convertDecisionVector">[docs]</a>
    <span class="k">def</span> <span class="nf">convertDecisionVector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">desiredStateRep</span><span class="p">,</span> <span class="n">keywords</span><span class="p">,</span> <span class="n">mu</span><span class="p">,</span> <span class="n">exceptions</span><span class="o">=</span><span class="p">[]):</span> <span class="c1">#X is the decision vector, keywords is a list of strings that may include &#39;and&#39; or &#39;or&#39;, desiredStateRep is a string, mu is mu</span>
        <span class="n">CartesianNames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;z&#39;</span><span class="p">,</span><span class="s1">&#39;vx&#39;</span><span class="p">,</span><span class="s1">&#39;vy&#39;</span><span class="p">,</span><span class="s1">&#39;vz&#39;</span><span class="p">]</span>
        <span class="n">COENames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SMA&#39;</span><span class="p">,</span><span class="s1">&#39;ECC&#39;</span><span class="p">,</span><span class="s1">&#39;INC&#39;</span><span class="p">,</span><span class="s1">&#39;RAAN&#39;</span><span class="p">,</span><span class="s1">&#39;AOP&#39;</span><span class="p">,</span><span class="s1">&#39;TA&#39;</span><span class="p">]</span>
        <span class="n">SphericalRADECNames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="s1">&#39;RA&#39;</span><span class="p">,</span><span class="s1">&#39;DEC&#39;</span><span class="p">,</span><span class="s1">&#39;v&#39;</span><span class="p">,</span><span class="s1">&#39;vRA&#39;</span><span class="p">,</span><span class="s1">&#39;vDEC&#39;</span><span class="p">]</span>
        <span class="n">SphericalAZFPANames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="s1">&#39;RA&#39;</span><span class="p">,</span><span class="s1">&#39;DEC&#39;</span><span class="p">,</span><span class="s1">&#39;v&#39;</span><span class="p">,</span><span class="s1">&#39;AZ&#39;</span><span class="p">,</span><span class="s1">&#39;FPA&#39;</span><span class="p">]</span>
        <span class="n">IncomingBplaneNames</span><span class="o">=</span> <span class="p">[</span><span class="s1">&#39;VINFin&#39;</span><span class="p">,</span><span class="s1">&#39;RHAin&#39;</span><span class="p">,</span><span class="s1">&#39;DHAin&#39;</span><span class="p">,</span><span class="s1">&#39;BRADIUSin&#39;</span><span class="p">,</span><span class="s1">&#39;BTHETAin&#39;</span><span class="p">,</span><span class="s1">&#39;TAin&#39;</span><span class="p">]</span>
        <span class="n">OutgoingBplaneNames</span><span class="o">=</span> <span class="p">[</span><span class="s1">&#39;VINFout&#39;</span><span class="p">,</span><span class="s1">&#39;RHAout&#39;</span><span class="p">,</span><span class="s1">&#39;DHAout&#39;</span><span class="p">,</span><span class="s1">&#39;BRADIUSout&#39;</span><span class="p">,</span><span class="s1">&#39;BTHETAout&#39;</span><span class="p">,</span><span class="s1">&#39;TAout&#39;</span><span class="p">]</span>
        <span class="n">IncomingBplaneRpTANames</span><span class="o">=</span> <span class="p">[</span><span class="s1">&#39;VINFin&#39;</span><span class="p">,</span><span class="s1">&#39;RHAin&#39;</span><span class="p">,</span><span class="s1">&#39;DHAin&#39;</span><span class="p">,</span><span class="s1">&#39;RPin&#39;</span><span class="p">,</span><span class="s1">&#39;BTHETAin&#39;</span><span class="p">,</span><span class="s1">&#39;TAin&#39;</span><span class="p">]</span>
        <span class="n">OutgoingBplaneRpTANames</span><span class="o">=</span> <span class="p">[</span><span class="s1">&#39;VINFout&#39;</span><span class="p">,</span><span class="s1">&#39;RHAout&#39;</span><span class="p">,</span><span class="s1">&#39;DHAout&#39;</span><span class="p">,</span><span class="s1">&#39;RPout&#39;</span><span class="p">,</span><span class="s1">&#39;BTHETAout&#39;</span><span class="p">,</span><span class="s1">&#39;TAout&#39;</span><span class="p">]</span>
        <span class="n">MEENames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">]</span>

        <span class="c1">#set the counter to zero</span>
        <span class="n">Xindex</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">while</span> <span class="n">Xindex</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">X</span><span class="p">):</span>                                                                                   
            <span class="n">description</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>                                                                                    
            <span class="n">prefix</span> <span class="o">=</span> <span class="n">description</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">keyword</span> <span class="ow">in</span> <span class="n">description</span> <span class="k">for</span> <span class="n">keyword</span> <span class="ow">in</span> <span class="n">keywords</span><span class="p">)</span> \
                <span class="ow">and</span> <span class="ow">not</span> <span class="s1">&#39;PeriapseLaunch&#39;</span> <span class="ow">in</span> <span class="n">description</span> \
                <span class="ow">and</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">exception</span> <span class="ow">in</span> <span class="n">description</span> <span class="k">for</span> <span class="n">exception</span> <span class="ow">in</span> <span class="n">exceptions</span><span class="p">):</span> <span class="c1">#don&#39;t convert PeriapseLaunch</span>
                <span class="c1">#something to do here</span>
                <span class="k">if</span> <span class="s1">&#39;left state x&#39;</span> <span class="ow">in</span> <span class="n">description</span><span class="p">:</span> <span class="c1">#it&#39;s cartesian</span>
                    <span class="n">stateCartesian</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">+</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">+</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">+</span><span class="mi">4</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">+</span><span class="mi">5</span><span class="p">][</span><span class="mi">1</span><span class="p">])]</span>

                    <span class="k">if</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;Cartesian&#39;</span><span class="p">:</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                        <span class="k">continue</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;COE&#39;</span><span class="p">:</span>
                        <span class="n">stateCOE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoCOE</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">CartesianNames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">COENames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateCOE</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;SphericalRADEC&#39;</span><span class="p">:</span>
                        <span class="n">stateSphericalRADEC</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoSphericalRADEC</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">CartesianNames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalRADECNames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateSphericalRADEC</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;SphericalAZFPA&#39;</span><span class="p">:</span>
                        <span class="n">stateSphericalAZFPA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoSphericalAZFPA</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">CartesianNames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalAZFPANames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateSphericalAZFPA</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;MEE&#39;</span><span class="p">:</span>
                        <span class="n">stateMEE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoMEE</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">CartesianNames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">MEENames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateMEE</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;IncomingBplane&#39;</span><span class="p">:</span>
                        <span class="n">stateIncomingBplane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoIncomingBplane</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">CartesianNames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">IncomingBplaneNames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateIncomingBplane</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;OutgoingBplane&#39;</span><span class="p">:</span>
                        <span class="n">stateOutgoingBplane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoOutgoingBplane</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">CartesianNames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">OutgoingBplaneNames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateOutgoingBplane</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;IncomingBplaneRpTA&#39;</span><span class="p">:</span>
                        <span class="n">stateIncomingBplaneRpTA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoIncomingBplaneRpTA</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">CartesianNames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">IncomingBplaneRpTANames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateIncomingBplaneRpTA</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;OutgoingBplaneRpTA&#39;</span><span class="p">:</span>
                        <span class="n">stateOutgoingBplaneRpTA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CartesiantoOutgoingBplaneRpTA</span><span class="p">(</span><span class="n">stateCartesian</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">CartesianNames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">OutgoingBplaneRpTANames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateOutgoingBplaneRpTA</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                        
                <span class="k">elif</span> <span class="s1">&#39;left state AZ&#39;</span> <span class="ow">in</span> <span class="n">description</span><span class="p">:</span> <span class="c1">#it&#39;s SphericalAZFPA, but we actually have to step back four indices</span>
                    <span class="n">stateSphericalAZFPA</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">-</span><span class="mi">4</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">-</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">-</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])]</span>

                    <span class="k">if</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;SphericalAZFPA&#39;</span><span class="p">:</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">2</span>
                        <span class="k">continue</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;COE&#39;</span><span class="p">:</span>
                        <span class="n">stateCOE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalAZFPAtoCOE</span><span class="p">(</span><span class="n">stateSphericalAZFPA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalAZFPANames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">COENames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateCOE</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">2</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;SphericalRADEC&#39;</span><span class="p">:</span>
                        <span class="n">stateSphericalRADEC</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalAZFPAtoSphericalRADEC</span><span class="p">(</span><span class="n">stateSphericalAZFPA</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalAZFPANames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalRADECNames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateSphericalRADEC</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">2</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;IncomingBplane&#39;</span><span class="p">:</span>
                        <span class="n">stateIncomingBplane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalAZFPAtoIncomingBplane</span><span class="p">(</span><span class="n">stateSphericalAZFPA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalAZFPANames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">IncomingBplaneNames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateIncomingBplane</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">2</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;OutgoingBplane&#39;</span><span class="p">:</span>
                        <span class="n">stateOutgoingBplane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalAZFPAtoOutgoingBplane</span><span class="p">(</span><span class="n">stateSphericalAZFPA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalAZFPANames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">OutgoingBplaneNames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateOutgoingBplane</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">2</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;IncomingBplaneRpTA&#39;</span><span class="p">:</span>
                        <span class="n">stateIncomingBplaneRpTA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalAZFPAtoIncomingBplaneRpTA</span><span class="p">(</span><span class="n">stateSphericalAZFPA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalAZFPANames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">IncomingBplaneRpTANames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateIncomingBplaneRpTA</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">2</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;OutgoingBplaneRpTA&#39;</span><span class="p">:</span>
                        <span class="n">stateOutgoingBplaneRpTA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalAZFPAtoOutgoingBplaneRpTA</span><span class="p">(</span><span class="n">stateSphericalAZFPA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalAZFPANames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">OutgoingBplaneRpTANames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateOutgoingBplaneRpTA</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">2</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;Cartesian&#39;</span><span class="p">:</span>
                        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalAZFPAtoCartesian</span><span class="p">(</span><span class="n">stateSphericalAZFPA</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalAZFPANames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">CartesianNames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">2</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;MEE&#39;</span><span class="p">:</span>
                        <span class="n">stateMEE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalAZFPAtoMEE</span><span class="p">(</span><span class="n">stateSphericalAZFPA</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalAZFPANames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">MEENames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">2</span>
                    
                <span class="k">elif</span> <span class="s1">&#39;left state vRA&#39;</span> <span class="ow">in</span> <span class="n">description</span><span class="p">:</span> <span class="c1">#it&#39;s SphericalRADEC, but we actually have to step back four indices</span>
                    <span class="n">stateSphericalRADEC</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">-</span><span class="mi">4</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">-</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">-</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])]</span>
                
                    <span class="k">if</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;SphericalRADEC&#39;</span><span class="p">:</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">2</span>
                        <span class="k">continue</span>                
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;COE&#39;</span><span class="p">:</span>
                        <span class="n">stateCOE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalRADECtoCOE</span><span class="p">(</span><span class="n">stateSphericalRADEC</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalRADECNames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">COENames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateCOE</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">2</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;SphericalAZFPA&#39;</span><span class="p">:</span>
                        <span class="n">stateSphericalAZFPA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalRADECtoSphericalAZFPA</span><span class="p">(</span><span class="n">stateSphericalRADEC</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalRADECNames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalAZFPANames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateSphericalAZFPA</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">2</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;IncomingBplane&#39;</span><span class="p">:</span>
                        <span class="n">stateIncomingBplane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalRADECtoIncomingBplane</span><span class="p">(</span><span class="n">stateSphericalRADEC</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalRADECNames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">IncomingBplaneNames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateIncomingBplane</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">2</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;OutgoingBplane&#39;</span><span class="p">:</span>
                        <span class="n">stateOutgoingBplane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalRADECtoOutgoingBplane</span><span class="p">(</span><span class="n">stateSphericalRADEC</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalRADECNames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">OutgoingBplaneNames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateOutgoingBplane</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">2</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;IncomingBplaneRpTA&#39;</span><span class="p">:</span>
                        <span class="n">stateIncomingBplaneRpTA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalRADECtoIncomingBplaneRpTA</span><span class="p">(</span><span class="n">stateSphericalRADEC</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalRADECNames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">IncomingBplaneRpTANames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateIncomingBplaneRpTA</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">2</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;OutgoingBplaneRpTA&#39;</span><span class="p">:</span>
                        <span class="n">stateOutgoingBplaneRpTA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalRADECtoOutgoingBplaneRpTA</span><span class="p">(</span><span class="n">stateSphericalRADEC</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalRADECNames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">OutgoingBplaneRpTANames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateOutgoingBplaneRpTA</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">2</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;Cartesian&#39;</span><span class="p">:</span>
                        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalRADECtoCartesian</span><span class="p">(</span><span class="n">stateSphericalRADEC</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalRADECNames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">CartesianNames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">2</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;MEE&#39;</span><span class="p">:</span>
                        <span class="n">stateMEE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SphericalRADECtoMEE</span><span class="p">(</span><span class="n">stateSphericalRADEC</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalRADECNames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">MEENames</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">2</span>
            
                <span class="k">elif</span> <span class="s1">&#39;left state SMA&#39;</span> <span class="ow">in</span> <span class="n">description</span><span class="p">:</span> <span class="c1">#it&#39;s COE</span>
                    <span class="n">stateCOE</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">+</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">+</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">+</span><span class="mi">4</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">+</span><span class="mi">5</span><span class="p">][</span><span class="mi">1</span><span class="p">])]</span>
                
                    <span class="k">if</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;COE&#39;</span><span class="p">:</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                        <span class="k">continue</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;Cartesian&#39;</span><span class="p">:</span>
                        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoCartesian</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">COENames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">CartesianNames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;SphericalRADEC&#39;</span><span class="p">:</span>
                        <span class="n">stateSphericalRADEC</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoSphericalRADEC</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">COENames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalRADECNames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateSphericalRADEC</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;SphericalAZFPA&#39;</span><span class="p">:</span>
                        <span class="n">stateSphericalAZFPA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoSphericalAZFPA</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">COENames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalAZFPANames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateSphericalAZFPA</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;MEE&#39;</span><span class="p">:</span>
                        <span class="n">stateMEE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoMEE</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">COENames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">MEENames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateMEE</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;IncomingBplane&#39;</span><span class="p">:</span>
                        <span class="n">stateIncomingBplane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoIncomingBplane</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">COENames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">IncomingBplaneNames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateIncomingBplane</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;OutgoingBplane&#39;</span><span class="p">:</span>
                        <span class="n">stateOutgoingBplane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoOutgoingBplane</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">COENames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">OutgoingBplaneNames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateOutgoingBplane</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;IncomingBplaneRpTA&#39;</span><span class="p">:</span>
                        <span class="n">stateIncomingBplaneRpTA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoIncomingBplaneRpTA</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">COENames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">IncomingBplaneRpTANames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateIncomingBplaneRpTA</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;OutgoingBplaneRpTA&#39;</span><span class="p">:</span>
                        <span class="n">stateOutgoingBplaneRpTA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">COEtoOutgoingBplaneRpTA</span><span class="p">(</span><span class="n">stateCOE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">COENames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">OutgoingBplaneRpTANames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateOutgoingBplaneRpTA</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>

                <span class="k">elif</span> <span class="s1">&#39;left state TAin&#39;</span> <span class="ow">in</span> <span class="n">description</span><span class="p">:</span>
                    <span class="c1"># it&#39;s an incoming b plane rep.</span>
                    <span class="c1"># we actually have to step back 5 indices.</span>
                    <span class="n">delta</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span>
                    <span class="c1"># first, need to figure out which incoming b plane rep it is.</span>
                    <span class="k">if</span> <span class="s1">&#39;left state BRADIUSin&#39;</span> <span class="ow">in</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">-</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span> <span class="c1"># it&#39;s incoming b plane with bmag</span>
                        <span class="n">stateIncomingBplane</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="o">+</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="o">+</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="o">+</span><span class="mi">4</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="o">+</span><span class="mi">5</span><span class="p">][</span><span class="mi">1</span><span class="p">])]</span>
                        <span class="k">if</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;IncomingBplane&#39;</span><span class="p">:</span>
                            <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span> <span class="o">+</span> <span class="n">delta</span>
                            <span class="k">continue</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;COE&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplanetoCOE</span><span class="p">(</span><span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">COENames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;SphericalRADEC&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplanetoSphericalRADEC</span><span class="p">(</span><span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">SphericalRADECNames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;SphericalAZFPA&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplanetoSphericalAZFPA</span><span class="p">(</span><span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">SphericalAZFPANames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;MEE&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplanetoMEEtoMEE</span><span class="p">(</span><span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">MEENames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;Cartesian&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplanetoCartesian</span><span class="p">(</span><span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">CartesianNames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;OutgoingBplane&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplanetoOutgoingBplane</span><span class="p">(</span><span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">OutgoingBplaneNames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;IncomingBplaneRpTA&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplanetoIncomingBplaneRpTA</span><span class="p">(</span><span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">IncomingBplaneRpTANames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;OutgoingBplaneRpTA&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplanetoOutgoingBplaneRpTA</span><span class="p">(</span><span class="n">stateIncomingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">OutgoingBplaneRpTANames</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span> <span class="o">+</span> <span class="n">delta</span><span class="p">,</span> <span class="mi">6</span> <span class="o">+</span> <span class="n">delta</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">IncomingBplaneNames</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">delta</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">newNames</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">delta</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">newStates</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">delta</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span> <span class="o">+</span> <span class="n">delta</span>
                    <span class="k">elif</span> <span class="s1">&#39;left state RPin&#39;</span> <span class="ow">in</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">-</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span> <span class="c1"># it&#39;s incoming b plane with rp</span>
                        <span class="n">stateIncomingBplaneRpTA</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="o">+</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="o">+</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="o">+</span><span class="mi">4</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="o">+</span><span class="mi">5</span><span class="p">][</span><span class="mi">1</span><span class="p">])]</span>
                        <span class="k">if</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;IncomingBplaneRpTA&#39;</span><span class="p">:</span>
                            <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span> <span class="o">+</span> <span class="n">delta</span>
                            <span class="k">continue</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;COE&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplaneRpTAtoCOE</span><span class="p">(</span><span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">COENames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;SphericalRADEC&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplaneRpTAtoSphericalRADEC</span><span class="p">(</span><span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">SphericalRADECNames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;SphericalAZFPA&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplaneRpTAtoSphericalAZFPA</span><span class="p">(</span><span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">SphericalAZFPANames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;MEE&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplaneRpTAtoMEEtoMEE</span><span class="p">(</span><span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">MEENames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;Cartesian&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplaneRpTAtoCartesian</span><span class="p">(</span><span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">CartesianNames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;IncomingBplane&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplaneRpTAtoIncomingBplane</span><span class="p">(</span><span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">IncomingBplaneNames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;OutgoingBplane&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplaneRpTAtoOutgoingBplane</span><span class="p">(</span><span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">OutgoingBplaneNames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;OutgoingBplaneRpTA&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IncomingBplaneRpTAtoOutgoingBplaneRpTA</span><span class="p">(</span><span class="n">stateIncomingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">OutgoingBplaneRpTANames</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span> <span class="o">+</span> <span class="n">delta</span><span class="p">,</span> <span class="mi">6</span> <span class="o">+</span> <span class="n">delta</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">IncomingBplaneRpTANames</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">delta</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">newNames</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">delta</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">newStates</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">delta</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span> <span class="o">+</span> <span class="n">delta</span>            
                <span class="k">elif</span> <span class="s1">&#39;left state TAout&#39;</span> <span class="ow">in</span> <span class="n">description</span><span class="p">:</span>
                    <span class="c1"># it&#39;s an outgoing b plane rep.</span>
                    <span class="c1"># we actually have to step back 5 indices.</span>
                    <span class="n">delta</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span>
                    <span class="c1"># first, need to figure out which outgoing b plane rep it is.</span>
                    <span class="k">if</span> <span class="s1">&#39;left state BRADIUSout&#39;</span> <span class="ow">in</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">-</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span> <span class="c1"># it&#39;s outgoing b plane with bmag</span>
                        <span class="n">stateOutgoingBplane</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="o">+</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="o">+</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="o">+</span><span class="mi">4</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="o">+</span><span class="mi">5</span><span class="p">][</span><span class="mi">1</span><span class="p">])]</span>
                        <span class="k">if</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;OutgoingBplane&#39;</span><span class="p">:</span>
                            <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span> <span class="o">+</span> <span class="n">delta</span>
                            <span class="k">continue</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;COE&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplanetoCOE</span><span class="p">(</span><span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">COENames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;SphericalRADEC&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplanetoSphericalRADEC</span><span class="p">(</span><span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">SphericalRADECNames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;SphericalAZFPA&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplanetoSphericalAZFPA</span><span class="p">(</span><span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">SphericalAZFPANames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;MEE&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplanetoMEEtoMEE</span><span class="p">(</span><span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">MEENames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;Cartesian&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplanetoCartesian</span><span class="p">(</span><span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">CartesianNames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;IncomingBplane&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplanetoIncomingBplane</span><span class="p">(</span><span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">IncomingBplaneNames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;IncomingBplaneRpTA&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplanetoIncomingBplaneRpTA</span><span class="p">(</span><span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">IncomingBplaneRpTANames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;OutgoingBplaneRpTA&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplanetoOutgoingBplaneRpTA</span><span class="p">(</span><span class="n">stateOutgoingBplane</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">OutgoingBplaneRpTANames</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span> <span class="o">+</span> <span class="n">delta</span><span class="p">,</span> <span class="mi">6</span> <span class="o">+</span> <span class="n">delta</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">OutgoingBplaneNames</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">delta</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">newNames</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">delta</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">newStates</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">delta</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span> <span class="o">+</span> <span class="n">delta</span>
                    <span class="k">elif</span> <span class="s1">&#39;left state RPout&#39;</span> <span class="ow">in</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">-</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span> <span class="c1"># it&#39;s Outgoing b plane with rp</span>
                        <span class="n">stateOutgoingBplaneRpTA</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="o">+</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="o">+</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="o">+</span><span class="mi">4</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">delta</span><span class="o">+</span><span class="mi">5</span><span class="p">][</span><span class="mi">1</span><span class="p">])]</span>
                        <span class="k">if</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;OutgoingBplaneRpTA&#39;</span><span class="p">:</span>
                            <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span> <span class="o">+</span> <span class="n">delta</span>
                            <span class="k">continue</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;COE&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplaneRpTAtoCOE</span><span class="p">(</span><span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">COENames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;SphericalRADEC&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplaneRpTAtoSphericalRADEC</span><span class="p">(</span><span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">SphericalRADECNames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;SphericalAZFPA&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplaneRpTAtoSphericalAZFPA</span><span class="p">(</span><span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">SphericalAZFPANames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;MEE&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplaneRpTAtoMEEtoMEE</span><span class="p">(</span><span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">MEENames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;Cartesian&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplaneRpTAtoCartesian</span><span class="p">(</span><span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">CartesianNames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;IncomingBplane&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplaneRpTAtoIncomingBplane</span><span class="p">(</span><span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">IncomingBplaneNames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;IncomingBplaneRpTA&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplaneRpTAtoIncomingBplaneRpTA</span><span class="p">(</span><span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">IncomingBplaneRpTANames</span>
                        <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;OutgoingBplane&#39;</span><span class="p">:</span>
                            <span class="n">newStates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">OutgoingBplaneRpTAtoOutgoingBplane</span><span class="p">(</span><span class="n">stateOutgoingBplaneRpTA</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                            <span class="n">newNames</span> <span class="o">=</span> <span class="n">OutgoingBplaneNames</span>
                        
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span> <span class="o">+</span> <span class="n">delta</span><span class="p">,</span> <span class="mi">6</span> <span class="o">+</span> <span class="n">delta</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">OutgoingBplaneRpTANames</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">delta</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">newNames</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">delta</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">newStates</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">delta</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span> <span class="o">+</span> <span class="n">delta</span>          
                <span class="k">elif</span> <span class="s1">&#39;left state P&#39;</span> <span class="ow">in</span> <span class="n">description</span><span class="p">:</span> <span class="c1">#it&#39;s MEE</span>
                    <span class="n">stateMEE</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">+</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">+</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">+</span><span class="mi">4</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">Xindex</span><span class="o">+</span><span class="mi">5</span><span class="p">][</span><span class="mi">1</span><span class="p">])]</span>
                
                    <span class="k">if</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;MEE&#39;</span><span class="p">:</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                        <span class="k">continue</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;Cartesian&#39;</span><span class="p">:</span>
                        <span class="n">stateCartesian</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MEEtoCartesian</span><span class="p">(</span><span class="n">stateMEE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">MEENames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">CartesianNames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateCartesian</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;SphericalRADEC&#39;</span><span class="p">:</span>
                        <span class="n">stateSphericalRADEC</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MEEtoSphericalRADEC</span><span class="p">(</span><span class="n">stateMEE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">MEENames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalRADECNames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateSphericalRADEC</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;SphericalAZFPA&#39;</span><span class="p">:</span>
                        <span class="n">stateSphericalAZFPA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MEEtoSphericalAZFPA</span><span class="p">(</span><span class="n">stateMEE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">MEENames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">SphericalAZFPANames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateSphericalAZFPA</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;COE&#39;</span><span class="p">:</span>
                        <span class="n">stateCOE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MEEtoCOE</span><span class="p">(</span><span class="n">stateMEE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">MEENames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">COENames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateCOE</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;IncomingBplane&#39;</span><span class="p">:</span>
                        <span class="n">stateIncomingBplane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MEEtoIncomingBplane</span><span class="p">(</span><span class="n">stateMEE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">MEENames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">IncomingBplaneNames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateIncomingBplane</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;OutgoingBplane&#39;</span><span class="p">:</span>
                        <span class="n">stateOutgoingBplane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MEEtoOutgoingBplane</span><span class="p">(</span><span class="n">stateMEE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">MEENames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">OutgoingBplaneNames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateOutgoingBplane</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;IncomingBplaneRpTA&#39;</span><span class="p">:</span>
                        <span class="n">stateIncomingBplaneRpTA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MEEtoIncomingBplaneRpTA</span><span class="p">(</span><span class="n">stateMEE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">MEENames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">IncomingBplaneRpTANames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateIncomingBplaneRpTA</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>
                    <span class="k">elif</span> <span class="n">desiredStateRep</span> <span class="o">==</span> <span class="s1">&#39;OutgoingBplaneRpTA&#39;</span><span class="p">:</span>
                        <span class="n">stateOutgoingBplaneRpTA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MEEtoOutgoingBplaneRpTA</span><span class="p">(</span><span class="n">stateMEE</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">MEENames</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;left state &#39;</span> <span class="o">+</span> <span class="n">OutgoingBplaneRpTANames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                            <span class="n">X</span><span class="p">[</span><span class="n">Xindex</span> <span class="o">+</span> <span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">stateOutgoingBplaneRpTA</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">6</span>

                <span class="k">else</span><span class="p">:</span><span class="c1">#Not a 6-state. Nothing to see here, so just advance</span>
                    <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="k">else</span><span class="p">:</span><span class="c1">#Doesn&#39;t match the string we&#39;re searching for. Nothing to see here, so just advance</span>
                <span class="n">Xindex</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">return</span> <span class="n">X</span></div>
</div>

</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">EMTG python</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../PyEMTG/index.html">PyEMTG documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PEATSA/index.html">PEATSA documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../OptionsOverhaul/index.html">OptionsOverhaul documentation</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Jacob Englander, Donald Ellison, Jeremy Knittel, Noble Hatten.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
    </div>

    

    
  </body>
</html>